
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#about-this-guide" class="toc-h1 toc-link" data-title="About This Guide">About This Guide</a>
          </li>
          <li>
            <a href="#introduction-to-framework-for-open-distributed-manageability" class="toc-h1 toc-link" data-title="Introduction to Framework for Open Distributed Manageability">Introduction to Framework for Open Distributed Manageability</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#key-benefits-of-fodim" class="toc-h2 toc-link" data-title="Key benefits of FODIM">Key benefits of FODIM</a>
                  </li>
                  <li>
                    <a href="#fodim-logical-architecture" class="toc-h2 toc-link" data-title="FODIM logical architecture">FODIM logical architecture</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting started">Getting started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#using-the-fodim-restful-api" class="toc-h2 toc-link" data-title="Using the FODIM RESTful API">Using the FODIM RESTful API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#list-of-supported-apis" class="toc-h1 toc-link" data-title="List of supported APIs">List of supported APIs</a>
          </li>
          <li>
            <a href="#http-request-methods-responses-and-error-codes-for-fodim-rest-api" class="toc-h1 toc-link" data-title="HTTP Request Methods, Responses, and Error Codes for FODIM REST API">HTTP Request Methods, Responses, and Error Codes for FODIM REST API</a>
          </li>
          <li>
            <a href="#authenticating-requests-when-using-the-fodim-rest-apis" class="toc-h1 toc-link" data-title="Authenticating requests when using the FODIM REST APIs">Authenticating requests when using the FODIM REST APIs</a>
          </li>
          <li>
            <a href="#creating-and-managing-sessions" class="toc-h1 toc-link" data-title="Creating and managing sessions">Creating and managing sessions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#supported-apis" class="toc-h2 toc-link" data-title="Supported APIs">Supported APIs</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#configuring-roles-and-privileges-for-a-user" class="toc-h1 toc-link" data-title="Configuring roles and privileges for a user">Configuring roles and privileges for a user</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#roles" class="toc-h2 toc-link" data-title="Roles">Roles</a>
                  </li>
                  <li>
                    <a href="#privileges" class="toc-h2 toc-link" data-title="Privileges">Privileges</a>
                  </li>
                  <li>
                    <a href="#mapping-of-privileges-to-roles-in-fodim" class="toc-h2 toc-link" data-title="Mapping of privileges to roles in FODIM">Mapping of privileges to roles in FODIM</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#creating-and-managing-user-accounts" class="toc-h1 toc-link" data-title="Creating and managing user accounts">Creating and managing user accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#aggregating-and-managing-southbound-infrastructure-use-case-for-server-aggregation" class="toc-h1 toc-link" data-title="Aggregating and managing southbound infrastructure (use case for server aggregation)">Aggregating and managing southbound infrastructure (use case for server aggregation)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#prerequisites" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#authentication-2" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#supported-endpoints" class="toc-h2 toc-link" data-title="Supported Endpoints">Supported Endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#use-case-for-server-aggregation" class="toc-h1 toc-link" data-title="Use case for server aggregation">Use case for server aggregation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adding-a-server" class="toc-h2 toc-link" data-title="Adding a Server">Adding a Server</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#managing-tasks" class="toc-h1 toc-link" data-title="Managing tasks">Managing tasks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#prerequisites-2" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#authentication-3" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#supported-endpoints-2" class="toc-h2 toc-link" data-title="Supported Endpoints">Supported Endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscribing-northbound-clients-to-southbound-events" class="toc-h1 toc-link" data-title="Subscribing northbound clients to southbound events">Subscribing northbound clients to southbound events</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#prerequisites-3" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#authentication-4" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#supported-endpoints-3" class="toc-h2 toc-link" data-title="Supported Endpoints">Supported Endpoints</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accessing-the-inventory-of-a-managed-southbound-resource" class="toc-h1 toc-link" data-title="Accessing the inventory of a managed southbound resource">Accessing the inventory of a managed southbound resource</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#prerequisites-4" class="toc-h2 toc-link" data-title="Prerequisites">Prerequisites</a>
                  </li>
                  <li>
                    <a href="#authentication-5" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#supported-endpoints-4" class="toc-h2 toc-link" data-title="Supported Endpoints">Supported Endpoints</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='about-this-guide'>About This Guide</h1>
<p>This document provides helpful reference
information for the REST API requests
that you can send to FODIM RESTful API.
This document is intended for the
technical personnel who customize and
deploy this optimized solution according
to the requirements of the end customer.</p>
<h1 id='introduction-to-framework-for-open-distributed-manageability'>Introduction to Framework for Open Distributed Manageability</h1>
<p>Managing a multitude of IT infrastructure devices of different make and type has never been easy, especially, when they exist across multiple data centers.</p>

<p>The FODIM (Framework for Open Distributed Manageability) RESTful API offers a simple and effective solution for IT infrastructure manageability: it virtually brings all the devices(compute, storage, and fabric) to be managed in one place with the help of Redfish compliant APIs and vendor specific plugins.</p>

<p>The FODIM RESTful API is a programming interface enabling easy and secure management of wide range of IT infrastructure equipment distributed across multiple data centers.</p>

<p>It exposes RESTful APIs that are architected as per Redfish Scalable Platforms API specification v1.4.0 DSP0266.</p>
<h2 id='key-benefits-of-fodim'>Key benefits of FODIM</h2>
<ul>
<li><p><strong>Simplifies lifecycle management of southbound infrastructure</strong>: FODIM allows you to group southbound resources into one aggregate and modify them collectively. It also performs a detailed inventory of southbound resources and offers an aggregated access it. </p></li>
<li><p><strong>Scalable</strong>: leveraging the resource aggregation capability of FODIM, you can manage a wide range of different southbound devices alike(from stand-alone servers to rack mount and bladed environments to large scale server environments).</p></li>
<li><p><strong>Simplifies interaction of northbound clients with southbound systems</strong>: FODIM offers a protocol independent eventing mechanism using which northbound clients get notified of alarms from southbound equipment.</p></li>
</ul>
<h2 id='fodim-logical-architecture'>FODIM logical architecture</h2>
<p>The FODIM based on Redfish standards uses RESTful API to create an environment that is designed to be implemented on many different models of servers and other IT infrastructure devices for years to come. These devices may be quite different from one another. For this reason, the Redfish API does not specify the URIs to various resources.</p>
<h1 id='getting-started'>Getting started</h1><h2 id='using-the-fodim-restful-api'>Using the FODIM RESTful API</h2>
<p>The FODIM RESTful API is available on version __ or later.</p>

<p>To access the RESTful API, you need an HTTPS-capable client, such as a web browser with a REST Client plugin extension, or a Desktop REST Client application (such as Postman), or cURL (a popular, free command line utility).
You can also easily write simple REST clients for RESTful APIs using modern scripting languages.</p>

<p><strong>Tip:</strong>
It is good to use a tool, such as cURL or Postman initially to perform requests. Later, you will want to write your own scripting code to do this. </p>

<p><strong>Note:</strong>
The examples shown in this document use cURL to make HTTP requests.</p>

<p>Curl is a command line tool which helps you get or send information through URLs using supported protocols(<code>HTTP</code> in the case of FODIM).
It is available at http://curl.haxx.se/ .</p>

<p>All the cURL examples will use the following options(flags):
-  <code>--insecure</code> bypasses validation of the HTTPS certificate. In actual usage,      The FODIM RESTful API should be configured to use a user-supplied              certificate and this option is not necessary. 
     Draft comment: Need clarity here.
-  <code>-i</code> returns HTTP response headers</p>
<h1 id='list-of-supported-apis'>List of supported APIs</h1>
<p>FODIM Redfish supports the following APIs:</p>

<table><thead>
<tr>
<th>URI</th>
<th>Operation Applicable</th>
</tr>
</thead><tbody>
<tr>
<td>/redfish</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/odata</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/$metadata</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/SessionService</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/SessionService/Sessions</td>
<td>POST, GET</td>
</tr>
<tr>
<td>/redfish/v1/SessionService/Sessions/{session id}</td>
<td>GET, DELETE</td>
</tr>
<tr>
<td>/redfish/v1/AccountService</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/AccountService/Accounts</td>
<td>POST, GET</td>
</tr>
<tr>
<td>/redfish/v1/AccountService/Accounts/{Account id}</td>
<td>GET, DELETE, PATCH</td>
</tr>
<tr>
<td>/redfish/v1/AccountService/PrivilegeRegistry</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/AccountService/Roles</td>
<td>POST, GET</td>
</tr>
<tr>
<td>/redfish/v1/AccountService/Roles/{Roles id}</td>
<td>GET, DELETE, PATCH</td>
</tr>
<tr>
<td>/redfish/v1/AggregationService/Actions/AggregationService.Add</td>
<td>POST</td>
</tr>
<tr>
<td>/redfish/v1/AggregationService/Actions/AggregationService.Remove</td>
<td>POST</td>
</tr>
<tr>
<td>/redfish/v1/AggregationService/Actions/AggregationService.Reset</td>
<td>POST</td>
</tr>
<tr>
<td>/redfish/v1/AggregationService/Actions/AggregationService.SetDefaultBootOrder</td>
<td>POST</td>
</tr>
<tr>
<td>/redfish/v1/Systems</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/Memory</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/MemoryDomains</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/NetworkInterfaces</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/EthernetInterfaces</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/bios</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/SecureBoot</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/Storage</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/Processors</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/Memory/{MemoryId}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/EthernetInterfaces/{Id}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems/{ComputerSystemId}/Processors/{Id}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Chassis</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Chassis/{ComputerSystemId}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Chassis/{ComputerSystemId}/Thermal</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Chassis/{ComputerSystemId}/NetworkAdapters</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Chassis/{ComputerSystemId}/Power</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Systems?filter={searchKeys}%20{conditionKeys}%20{value}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/EventService/Subscriptions</td>
<td>POST</td>
</tr>
<tr>
<td>/redfish/v1/Fabrics</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Fabrics/{fabricID}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Fabrics/{fabricID}/Switches</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Fabrics/{fabricID}/Switches/{switchID}</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Fabrics/{fabricID}/Switches/{switchID}/Ports<br></td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/Fabrics/{fabricID} /Switches/{switchID}/Ports/{portid}<br></td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/TaskService</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/TaskService/Tasks</td>
<td>GET</td>
</tr>
<tr>
<td>/redfish/v1/TaskService/Tasks/{TaskID}</td>
<td>GET</td>
</tr>
<tr>
<td>/taskmon/{TaskID}</td>
<td>GET</td>
</tr>
</tbody></table>

<p><strong>NOTE:</strong></p>

<p>*ComputerSystemId is FODIM specified unique id of the server. It is represented as &quot;{UUID}:{n}&quot; in FODIM ( Example : ba0a6871-7bc4-5f7a-903d-67f3c205b08c:1 )</p>
<h1 id='http-request-methods-responses-and-error-codes-for-fodim-rest-api'>HTTP Request Methods, Responses, and Error Codes for FODIM REST API</h1>
<p>Following are the Redfish defined HTTP methods that you can use to implement various actions:</p>

<table><thead>
<tr>
<th>HTTP Request Methods</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>GET</code> [Read Requests]</td>
<td>Use this method to request a representation of a specified resource (single resource or collection).</td>
</tr>
<tr>
<td><code>PATCH</code> [Update]</td>
<td>Use this method to apply partial modifications to a resource.</td>
</tr>
<tr>
<td><code>POST</code> [Create] [Actions]</td>
<td>Use this method to create a new resource. Submit this request to the resource collection to which you want to add the new resource. You can also use this method to initiate operations on an object.</td>
</tr>
<tr>
<td><code>DELETE</code> [Delete]</td>
<td>Use this method to delete a resource.</td>
</tr>
</tbody></table>

<p>FODIM Redfish supports the following responses:</p>

<table><thead>
<tr>
<th>Responses</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Metadata responses</td>
<td>Describes the resources and types exposed by the service to generic clients.</td>
</tr>
<tr>
<td>Resource responses</td>
<td>Response in JSON format for an individual resource.</td>
</tr>
<tr>
<td>Resource collection responses</td>
<td>Response in JSON format for a collection of a resources.</td>
</tr>
<tr>
<td>Error responses</td>
<td>In case of an HTTP error, a high level JSON response is provided with additional information</td>
</tr>
</tbody></table>

<p>Following are the HTTP Status codes with their descriptions:</p>

<table><thead>
<tr>
<th>Status Code<br></th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200 OK</td>
<td>Successful completion of the request with representation in the body</td>
</tr>
<tr>
<td>201 Created</td>
<td>A new resource is successfully created with the Location header set to well-defined URI for the newly created resource. The response body includes the representation of the newly created resource.</td>
</tr>
<tr>
<td>202 Accepted</td>
<td>The request has been accepted for processing but not processed. The Location header is set to URI of a task monitor that can be queried later for the status of the operation.</td>
</tr>
<tr>
<td>204 No content</td>
<td>The request was a success but no content was returned in the body of the response.</td>
</tr>
<tr>
<td>301 Moved Permanently</td>
<td>The requested resource resides in a different URI given by the Location headers.</td>
</tr>
<tr>
<td>302 Found</td>
<td>The requested resource temporarily resides in a different URI.</td>
</tr>
<tr>
<td>304 Not Modified</td>
<td>When the service has performed conditional GET request but the resource content has not changed.</td>
</tr>
<tr>
<td>400 Bad Request</td>
<td>The request could not be performed due to missing or invalid information. An extended error message is returned in the response body.</td>
</tr>
<tr>
<td>401 Unauthorized</td>
<td>Missing or invalid authentication credentials included with a request.</td>
</tr>
<tr>
<td>403 Forbidden</td>
<td>The server recognizes the credentials to be not having the necessary authorization to perform the operation.</td>
</tr>
<tr>
<td>404 Not Found</td>
<td>The request specified the URI of a non-existing resource.</td>
</tr>
<tr>
<td>405 Method Not Allowed</td>
<td>When the HTTP verb specified in the request (GET, PATCH, DELETE, and so on) is not supported for a particular request URI. The response includes &quot;Allow&quot; header that lists the supported methods.</td>
</tr>
<tr>
<td>406 Not Acceptable</td>
<td>When the resource fails to generate a response that matches the media types specified in the Accept header.</td>
</tr>
<tr>
<td>409 Conflict</td>
<td>A creation or an update cannot be completed because it would conflict with the current state of the resources supported by the platform.</td>
</tr>
<tr>
<td>410 Gone</td>
<td>When the requested resource is no longer available in the server and there is no forwarding address available as well. This condition is expected to be considered permanent. Clients with hyperlink editing capabilities SHOULD delete references to the Request-URI after user approval. If the server does not know, or has no facility to determine, whether or not the condition is permanent, the status code 404 (Not Found) SHOULD be used instead. This response is cacheable unless indicated otherwise.</td>
</tr>
<tr>
<td>411 Length Required</td>
<td>When the content of the length is not specified using the Content-Length header.</td>
</tr>
<tr>
<td>412 Precondition Failed</td>
<td>When pre-condition (OData-version) checks fail.</td>
</tr>
<tr>
<td>415 Unsupported Media Type</td>
<td>When the Content-type specified for the body does not match.</td>
</tr>
<tr>
<td>428 Precondition Required</td>
<td>When the request does not provide the pre-condition such as an If-Match</td>
</tr>
<tr>
<td>431 Request Header Field Too Large</td>
<td>When the individual header or all the header fields in a request are too large, the server does not fulfils the request.</td>
</tr>
<tr>
<td>500 Internal Server Error</td>
<td>When the server encounters and unexpected condition that prevents it from fulfilling the request.</td>
</tr>
<tr>
<td>501 Not Implemented</td>
<td>When the server does not recognize or supports the method for any resource.</td>
</tr>
<tr>
<td>503 Service Unavailable</td>
<td>When the server is currently unable to service the request due to temporary overloading or maintenance.</td>
</tr>
<tr>
<td>507 Insufficient Storage</td>
<td>When the size of the response is too big for the server to build the response.</td>
</tr>
</tbody></table>
<h1 id='authenticating-requests-when-using-the-fodim-rest-apis'>Authenticating requests when using the FODIM REST APIs</h1>
<p>Following authentication methods can be implemented to authenticate requests to the FODIM REST API:</p>

<ul>
<li><p><strong>HTTP BASIC authentication</strong></p>

<p>You can implement HTTP BASIC authentication by providing base64 encoded FODIM user name and password in an HTTP <code>Authorization: Basic</code> header ( Basic Auth).</p></li>
<li><p><strong>Redfish session login authentication</strong></p>

<p>You can implement Redfish Session Login Authentication by creating a Redfish login session through session management interface. To learn more about a session, See <a href="#">Creating and managing sessions</a> section.</p>

<p>Every session that is created has an authentication token called <code>X-AUTH-TOKEN</code> associated with it.</p>

<p>To authenticate subsequent requests, provide this token in the <code>X-AUTH-TOKEN</code> request header.</p>

<p>NOTE:</p>

<ul>
<li> An <code>X-AUTH-TOKEN</code> is valid and a session is open only for 30 minutes, unless the user continues to send requests to a Redfish service using this token.</li>
<li> An idle session is automatically terminated after the timeout interval.</li>
</ul></li>
</ul>

<p>NOTE:</p>

<ul>
<li><p>When Basic Auth is used, creating a session is not required.</p></li>
<li><p>You must authenticate all write requests(POST, PATCH, and DELETE ) on the resources except for The POST operation on the Sessions service/object needed for authentication.</p></li>
<li><p>You must authenticate all read requests(GET ) on the resources except for:</p>

<ul>
<li>  The service root</li>
<li>  The $metadata</li>
<li>  The OData Service Document</li>
<li>  The Redfish version</li>
</ul></li>
</ul>
<h1 id='creating-and-managing-sessions'>Creating and managing sessions</h1>
<p>A session represents a window of user&#39;s login with a Redfish service and contains details about the user and the user activity. You can run multiple sessions simultaneously on FODIM.</p>

<p>FODIM offers Redfish SessionService interface for managing sessions and exposes APIs to achieve the following:</p>

<ul>
<li><p>Fetching the SessionService root</p></li>
<li><p>Creating a session</p></li>
<li><p>Listing active sessions</p></li>
<li><p>Deleting a session</p></li>
</ul>
<h2 id='supported-apis'>Supported APIs</h2>
<ul>
<li><p><code>/redfish/v1/SessionService</code></p></li>
<li><p><code>/redfish/v1/SessionService/Sessions</code></p></li>
<li><p><code>/redfish/v1/SessionService/Sessions/{session id}</code></p></li>
</ul>
<h1 id='configuring-roles-and-privileges-for-a-user'>Configuring roles and privileges for a user</h1>
<p>FODIM supports role-based authorization of requests - the roles and privileges control which users have what access to resources.</p>
<h2 id='roles'>Roles</h2>
<p>A role represents a set of operations that a user is allowed to perform and is determined by a defined set of privileges. The privileges of a role are configurable - you can choose a privilege or a set of privileges to be assigned to a role at the time of role creation.</p>

<p>See <a href="#">Creating a role</a>.</p>

<p>With FODIM, there are two kinds of defined roles:</p>

<ul>
<li><p><strong>Redfish pre-defined roles</strong></p>

<p>Redfish pre-defined roles come with a pre-defined set of privileges. Following are the Redfish pre-defined roles:</p>

<ul>
<li>  Administrator</li>
<li>  Operator</li>
<li>  ReadOnly</li>
</ul></li>
<li><p><strong>OEM(Original Equipment Manufacturer) roles</strong></p>

<p>OEM roles are the custom roles that you can create and assign to a user. Following are the available OEM roles:</p>

<ul>
<li>   admin
:   The admin is an OEM pre-defined role that has all the privileges needed to manage all services. The admin can perform any actions such as adding and removing equipments, adding or removing users or privileges, and so on.</li>
<li>   Client
:   The client is an OEM role that uses the northbound APIs to manage the southbound infrastructure.</li>
<li>   Monitor
:   The Monitor is an OEM role that is used typically by northbound monitoring solutions, this user role performs actions such as setting up subscriptions to be notified on Alerts from southbound infrastructure.</li>
</ul></li>
</ul>

<p><strong>NOTE:</strong></p>

<ul>
<li><p>Every user is assigned one role at the time of user account creation; ensure that the role to be assigned to a user is created before creating a user account.</p></li>
<li><p>The Redfish pre-defined roles can include OEM privileges.</p></li>
<li><p>OEMs can create custom roles and assign the same to a user at the time of user creation.</p></li>
</ul>
<h2 id='privileges'>Privileges</h2>
<p>A privilege is a permission to perform an operation or a set of operations within a defined management domain. There are Redfish specified set of privileges as well as OEM-defined privileges.</p>

<p>The following privileges can be assigned to any user in FODIM:</p>

<ul>
<li><p>ConfigureComponents
:   Users with this privilege can configure components managed by the services in FODIM Redfish API.</p></li>
<li><p>ConfigureManager
:   Users with this privilege can configure manager resources.</p></li>
<li><p>ConfigureSelf
:   Users with this privilege can change the password for their account.</p></li>
<li><p>ConfigureUsers
:   Users with this privilege can configure users and their accounts. This privilege is assigned to an administrator.</p></li>
<li><p>Login
:   Users with this privilege can log into the service and read the resources.</p></li>
</ul>

<p><strong>NOTE:</strong></p>

<p>The privileges set for a Redfish pre-defined role cannot be modified.</p>
<h2 id='mapping-of-privileges-to-roles-in-fodim'>Mapping of privileges to roles in FODIM</h2>
<table><thead>
<tr>
<th>Roles</th>
<th>Assigned privileges</th>
</tr>
</thead><tbody>
<tr>
<td>Administrator (Redfish pre-defined)</td>
<td>-   Login<br>-   ConfigureManager<br>-   ConfigureUsers<br>-   ConfigureComponents<br>-   ConfigureSelf<br></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>Operator (Redfish pre-defined)</td>
<td>-   Login<br>-   ConfigureComponents<br>-   ConfigureSelf<br></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>ReadOnly (Redfish pre-defined)</td>
<td>-   Login<br>-   ConfigureSelf<br></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>admin (OEM)</td>
<td></td>
</tr>
<tr>
<td>Client (OEM)</td>
<td></td>
</tr>
<tr>
<td>Monitor (OEM)</td>
<td></td>
</tr>
</tbody></table>
<h1 id='creating-and-managing-user-accounts'>Creating and managing user accounts</h1>
<p>FODIM allows users to have accounts to configure their actions and restrictions.</p>

<p>A user account contains the following details:</p>

<ul>
<li><p>User name</p></li>
<li><p>Password</p></li>
<li><p>A role assigned to the user.</p></li>
</ul>

<p>It exposes Redfish AccountsService APIs to manage user accounts. Use these endpoints to perform the following operations:</p>

<ul>
<li><p>Creating, modifying, and deleting account details.</p></li>
<li><p>Fetching account details.</p></li>
</ul>

<p><strong>Supported APIs</strong>:</p>

<ul>
<li><p><code>/redfish/v1/AccountService</code></p></li>
<li><p><code>/redfish/v1/AccountService/Accounts</code></p></li>
<li><p><code>/redfish/v1/AccountService/Accounts/{Account Id}</code></p></li>
<li><p><code>/redfish/v1/AccountService/Roles</code></p></li>
<li><p><code>/redfish/v1/AccountService/Roles/{Role id}</code></p></li>
</ul>
<h2 id='authentication'>Authentication</h2>
<p>X-AUTH-TOKEN authentication or Basic authentication.</p>
<h1 id='aggregating-and-managing-southbound-infrastructure-use-case-for-server-aggregation'>Aggregating and managing southbound infrastructure (use case for server aggregation)</h1>
<p>One of the state-of-the-art features of FODIM is that it allows users to add and group southbound infrastructure(servers, storage, or fabrics) into one aggregate for easy manageability. It offers Redfish AggregationService as an interface and exposes endpoints to achieve the following:</p>

<ul>
<li><p>Adding a resource in the inventory to manage.</p></li>
<li><p>Resetting one or more resources.</p></li>
<li><p>Changing the boot path of one or more resources to default settings.</p></li>
<li><p>Removing a resource from the inventory which is no longer managed.</p></li>
</ul>

<p>Using these endpoints, you can add or remove only one resource at a time. You can group the resources into one collection and perform actions such as reset and setdefaultbootorder in combination on that group.</p>

<p>The next section contains the use case for server aggregation.</p>
<h2 id='prerequisites'>Prerequisites</h2>
<ul>
<li>  To access Redfish AggregationService endpoints, ensure that the user has <code>ConfigureComponents</code> privilege.</li>
</ul>
<h2 id='authentication-2'>Authentication</h2>
<p>X-AUTH-TOKEN authentication or Basic authentication.</p>
<h2 id='supported-endpoints'>Supported Endpoints</h2>
<ul>
<li><p><code>/redfish/v1/AggregatorService/Actions/AggregationService.Add</code></p></li>
<li><p><code>/redfish/v1/AggregatorService/Actions/AggregationService.Remove</code></p></li>
<li><p><code>/redfish/v1/AggregationService/Actions/AggregationService.Reset</code></p></li>
<li><p><code>/redfish/v1/AggregationService/Actions/AggregationService.SetDefaultBootOrder</code></p></li>
</ul>
<h1 id='use-case-for-server-aggregation'>Use case for server aggregation</h1><h2 id='adding-a-server'>Adding a Server</h2>
<table><thead>
<tr>
<th><strong>Method</strong></th>
<th><code>POST</code></th>
</tr>
</thead><tbody>
<tr>
<td><strong>URI</strong></td>
<td><code>/redfish/v1/AggregatorService/Actions/AggregationService.Add</code></td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td>Location URI of the task monitor associated with this operation in the response header.</td>
</tr>
<tr>
<td><strong>Response Code</strong></td>
<td>202 on success</td>
</tr>
</tbody></table>
<h3 id='description'>Description</h3>
<p>This action adds a single server in the inventory.
On success, ORCA specified Computer System Id is assigned to the added server.</p>

<p>This action is performed as a task. To know the status of the progress of this action, perform GET on the URI of the task monitor returned in the Location header. See <a href="#">How to monitor a task</a>. If the server is successfully added in the inventory, its endpoint having the System Id is returned as response.</p>

<p><strong>NOTE:</strong></p>

<p>Make note of the Computer System Id as it is required to perform subsequent actions such as delete, reset, and setdefaultbootorder on this server.</p>
<h3 id='usage'>Usage</h3><pre class="highlight plaintext"><code>curl -i --insecure -X POST \
   -H "X-Auth-Token:{X-Auth-Token}" \
   -H "Content-Type:application/json" \
   -d \
'{"ManagerAddress":"{Server_IP_Address}","UserName":"{Account_UserName}","Password":"{Account_Password}","Oem":{"PluginID":"{Redfish_PluginId}"}}' \
 'https://{FODIM_IP_address}/redfish/v1/AggregationService/Actions/AggregationService.Add'


</code></pre><h3 id='sample-request-body'>Sample Request body</h3><pre class="highlight plaintext"><code>{
    "ManagerAddress": "10.24.0.6",
    "Username": "username",
    "Password": "password",
    "Oem": {
        "PluginID": "GRF"
    }
}
</code></pre><h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ManagerAddress</td>
<td></td>
<td>A valid IP address or hostname of a baseboard management controller (BMC)</td>
</tr>
<tr>
<td>Username</td>
<td>string</td>
<td>The username for this user account</td>
</tr>
<tr>
<td>Password</td>
<td>string</td>
<td>The password for this user account</td>
</tr>
<tr>
<td>PluginID</td>
<td>string</td>
<td>The plugin id Example : GRF (Generic Redfish Plugin)<br></td>
</tr>
</tbody></table>
<h3 id='sample-response-header'>Sample Response header</h3><pre class="highlight plaintext"><code>content-length:0 byte
content-type:application/json; charset=utf-8
date:Thu,
07 Nov 2019 09:29:36 GMT+7m 8s
**location:/taskmon/taskb297ff4e-0d2d-485c-8217-63d888cba7d2**
odata-version:4.0
status:202
x-frame-options:sameorigin
</code></pre><h3 id='sample-response-body'>Sample Response body</h3>
<p>None</p>
<h1 id='managing-tasks'>Managing tasks</h1>
<p>A task represents an operation that takes more time than a user typically wants to wait and is carried out asynchronously.</p>

<p>An example of a task is resetting an aggregate of servers. Resetting all the servers in a group is a time-consuming operation; the user waiting for the result would be blocked from performing other operations. FODIM creates Redfish tasks for such long-duration operations and offers an interface for the users to manage them while performing other operations.</p>

<p>FODIM exposes Redfish TaskService APIs and Task monitor API. Use these endpoints to manage and poll tasks for their completion.</p>
<h2 id='prerequisites-2'>Prerequisites</h2>
<ul>
<li>  Ensure that the user has <code>Login</code> privilege at the minimum.</li>
</ul>
<h2 id='authentication-3'>Authentication</h2>
<p>X-AUTH-TOKEN authentication or Basic authentication.</p>
<h2 id='supported-endpoints-2'>Supported Endpoints</h2>
<ul>
<li><p><code>/redfish/v1/TaskService</code></p></li>
<li><p><code>/redfish/v1/TaskService/Tasks</code></p></li>
<li><p><code>/redfish/v1/TaskService/Tasks/{TaskID}</code></p></li>
<li><p><code>/taskmon/{TaskID}</code></p></li>
</ul>
<h1 id='subscribing-northbound-clients-to-southbound-events'>Subscribing northbound clients to southbound events</h1>
<p>FODIM offers an eventing interface that allows northbound clients to interact and receive notifications such as alarms from southbound equipment. It exposes Redfish EventService APIs as an interface for managing events.</p>

<p>Events are messages provided by the service to asynchronously notify the client of some significant state change or error condition, usually of a time critical nature.</p>

<p>Use these APIs to subscribe northbound clients to southbound events by creating a subscription entry in the service.</p>
<h2 id='prerequisites-3'>Prerequisites</h2>
<ul>
<li><p>Ensure that Kafka is installed.</p></li>
<li><p>Ensure that the user has an <code>administrator</code> role or a <code>client</code> role.</p></li>
</ul>
<h2 id='authentication-4'>Authentication</h2>
<p>X-AUTH-TOKEN authentication or Basic authentication.</p>
<h2 id='supported-endpoints-3'>Supported Endpoints</h2>
<ul>
<li><p><code>/redfish/v1/EventService/Subscriptions</code></p></li>
<li><p><code>redfish/v1/EventService</code></p></li>
</ul>
<h1 id='accessing-the-inventory-of-a-managed-southbound-resource'>Accessing the inventory of a managed southbound resource</h1>
<p>FODIM allows northbound clients to monitor telemetry data from southbound compute, network, and storage resources including chassis by exposing Redfish SystemService endpoints. It also offers the capability to search southbound resources by applying filters.</p>

<p>Use these endpoints to discover information on all the telemetry you want to monitor such as CPU utilization, memory utilization, processor power consumption, thermal health.</p>
<h2 id='prerequisites-4'>Prerequisites</h2>
<ul>
<li>  Ensure that the user has a minimum privilege of &quot;Login&quot;.</li>
</ul>
<h2 id='authentication-5'>Authentication</h2>
<p>X-AUTH-TOKEN authentication or Basic authentication.</p>
<h2 id='supported-endpoints-4'>Supported Endpoints</h2>
<ul>
<li><p><code>/redfish/v1/Systems</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/Memory</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/MemoryDomains</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/EthernetInterfaces</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/bios</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/SecureBoot</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/Storage</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/LogServices</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/Processors</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/Memory/proc1dimm1</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/EthernetInterfaces/1</code></p></li>
<li><p><code>/redfish/v1/Systems/&lt;ComputerSystemId&gt;/Processors/1</code></p></li>
<li><p><code>/redfish/v1/Chassis</code></p></li>
<li><p><code>/redfish/v1/Chassis/{ComputerSystemId}</code></p></li>
<li><p><code>/redfish/v1/Chassis/&lt;ComputerSystemId&gt;/NetworkAdapters</code></p></li>
<li><p><code>/redfish/v1/Chassis/&lt;ComputerSystemId&gt;/Thermal</code></p></li>
<li><p><code>/redfish/v1/Chassis/&lt;ComputerSystemId&gt;/Power</code></p></li>
<li><p><code>/redfish/v1/Systems?filter=&lt;searchKeys&gt;%20&lt;conditionKeys&gt;%20&lt;value&gt;</code></p></li>
<li><p><code>/redfish/v1/Systems/{ComputerSystemId}/Actions/ComputerSystem.Reset</code></p></li>
<li><p><code>/redfish/v1/Systems/{ComputerSystemId}/Actions/ComputerSystem.SetDefaultBootOrder</code></p></li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
